<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WalkBread - Discover Amazing Bread</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#8B9A7A">
    <meta name="description" content="Discover and walk to the best bread stores and bakeries near you">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    
    <!-- Tailwind CSS -->
    <link rel="stylesheet" href="css/tailwind.css">

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
</head>
<body class="bg-bread-white min-h-screen">
    <!-- Header -->
    <header class="bg-bread-green text-white p-4 shadow-lg">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <span class="text-2xl">üçû</span>
                <h1 class="text-xl font-bold">WalkBread</h1>
            </div>
            <div class="flex items-center space-x-2">
                <button id="locationBtn" class="bg-bread-brown text-bread-dark px-3 py-1 rounded-full text-sm">
                    üìç My Location
                </button>
                <button id="filterBtn" class="bg-bread-brown text-bread-dark px-3 py-1 rounded-full text-sm">
                    üîç Filters
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex flex-col lg:flex-row h-screen">
        <!-- Map Section -->
        <section class="lg:w-2/3 h-1/2 lg:h-full">
            <div id="map" class="w-full h-full"></div>
        </section>

        <!-- Store List Section -->
        <section class="lg:w-1/3 h-1/2 lg:h-full bg-bread-white overflow-y-auto">
            <div class="p-4">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-lg font-semibold text-bread-dark">Nearby Bakeries</h2>
                    <span id="storeCount" class="text-sm text-bread-green">12 stores</span>
                </div>

                <!-- Search Bar -->
                <div class="relative mb-4">
                    <input type="text" id="searchInput" placeholder="Search bakeries..." 
                           class="w-full p-3 pl-10 border border-bread-brown rounded-lg focus:outline-none focus:ring-2 focus:ring-bread-green">
                    <span class="absolute left-3 top-3 text-bread-brown">üîç</span>
                </div>

                <!-- Filter Chips -->
                <div class="flex flex-wrap gap-2 mb-4">
                    <button class="filter-chip active" data-filter="all">All</button>
                    <button class="filter-chip" data-filter="price-1">$</button>
                    <button class="filter-chip" data-filter="price-2">$$</button>
                    <button class="filter-chip" data-filter="price-3">$$$</button>
                    <button class="filter-chip" data-filter="rating-4">‚≠ê 4+</button>
                    <button class="filter-chip" data-filter="gluten-free">üåæ GF</button>
                    <button class="filter-chip" data-filter="vegan">üå± Vegan</button>
                </div>

                <!-- Store List -->
                <div id="storeList" class="space-y-3">
                    <!-- Store cards will be populated by JavaScript -->
                </div>
            </div>
        </section>
    </main>

    <!-- Filter Modal -->
    <div id="filterModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-[1000]">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg p-6 w-full max-w-md">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold text-bread-dark">Filter Stores</h3>
                    <button id="closeFilter" class="text-bread-brown text-xl">&times;</button>
                </div>
                
                <div class="space-y-4">
                    <!-- Price Range -->
                    <div>
                        <label class="block text-sm font-medium text-bread-dark mb-2">Price Range</label>
                        <div class="flex space-x-2">
                            <label class="flex items-center">
                                <input type="checkbox" class="price-filter" value="$" checked>
                                <span class="ml-2">$</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="price-filter" value="$$" checked>
                                <span class="ml-2">$$</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="price-filter" value="$$$" checked>
                                <span class="ml-2">$$$</span>
                            </label>
                        </div>
                    </div>

                    <!-- Rating -->
                    <div>
                        <label class="block text-sm font-medium text-bread-dark mb-2">Minimum Rating</label>
                        <select id="ratingFilter" class="w-full p-2 border border-bread-brown rounded">
                            <option value="0">Any Rating</option>
                            <option value="3">3+ Stars</option>
                            <option value="4" selected>4+ Stars</option>
                            <option value="5">5 Stars</option>
                        </select>
                    </div>

                    <!-- Distance -->
                    <div>
                        <label class="block text-sm font-medium text-bread-dark mb-2">Max Distance</label>
                        <select id="distanceFilter" class="w-full p-2 border border-bread-brown rounded">
                            <option value="0.5">0.5 miles</option>
                            <option value="1" selected>1 mile</option>
                            <option value="2">2 miles</option>
                            <option value="5">5 miles</option>
                        </select>
                    </div>

                    <!-- Dietary Options -->
                    <div>
                        <label class="block text-sm font-medium text-bread-dark mb-2">Dietary Options</label>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="checkbox" class="dietary-filter" value="gluten-free">
                                <span class="ml-2">üåæ Gluten Free</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="dietary-filter" value="vegan">
                                <span class="ml-2">üå± Vegan Options</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="dietary-filter" value="organic">
                                <span class="ml-2">üåø Organic</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="flex space-x-3 mt-6">
                    <button id="applyFilters" class="flex-1 bg-bread-green text-white py-2 px-4 rounded-lg">
                        Apply Filters
                    </button>
                    <button id="clearFilters" class="flex-1 bg-bread-brown text-bread-dark py-2 px-4 rounded-lg">
                        Clear All
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Store Detail Modal -->
    <div id="storeModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-[1000]">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-4">
                    <h3 id="storeName" class="text-lg font-semibold text-bread-dark"></h3>
                    <button id="closeStore" class="text-bread-brown text-xl">&times;</button>
                </div>
                
                <div id="storeDetails">
                    <!-- Store details will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="js/stores.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
